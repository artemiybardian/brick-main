{% extends 'front/base.html' %}

{% block content %}
<div class="container mt-4">
    <h1>Категории</h1>
    <div class="row">
        {% for item in categories %}
        <div class="col-lg-4 mb-4 d-flex">
            <div class="card h-100 w-100 d-flex flex-column">
                
                <!-- Kontent tepada -->
                <div class="card-body d-flex flex-column flex-grow-0 text-center">
                    <a href="{% url 'category_detail' item.id %}" class="card-title d-block" style="text-decoration: none;">{{ item.name }}</a>
                    <p class="card-text text-muted">Товаров: 0</p>
                </div>

                <!-- Rasm pastda -->
                <div class="img-container">
                    <img src="{{ item.logo.url }}" class="card-img-bottom" alt="{{ item.name }}">
                </div>

            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    .img-container {
        height: 200px;
        overflow: hidden;
    }

    .img-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .card {
        display: flex;
        flex-direction: column;
        transition: transform 0.2s;
    }

    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .card-body {
        text-align: center;
    }

    .card-title {
        font-size: 1.25rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
        color: #333;
    }

    .card-title:hover {
        color: #007bff;
    }

    .card-text {
        font-size: 0.95rem;
        color: #6c757d;
        margin-bottom: 0.5rem;
    }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.toggle-subcategories').forEach(button => {
        button.addEventListener('click', function() {
            this.classList.toggle('rotated');
        });
    });
});
</script>
{% endblock %}
